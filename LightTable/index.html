<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="scripts/light-table.js"></script>
    <title></title>
</head>
<body>
<div id="test"></div>
<div id="test2"></div>

</body>
<script type="application/javascript">
    window.onload = function () {
        var data = [{model: 'A', label: 'BMW', price:'20000', dynamic: 'test drive'},
            {model: 'C', label: 'Fiat', price:'10000', dynamic: 'test drive 2'},
            {model: 'D', label: 'Porsche', price:'30000', dynamic: 'test drive 3'},
            {model: 'B', label: 'Opel', price:'1500', dynamic: 'test drive 4'}];
        var data2 = [{model: 'A', label: 'BMW', price:'20000', dynamic: 'test drive'},
            {model: 'C', label: 'Fiat', price:'10000', dynamic: 'test drive 2'},
            {model: 'D', label: 'Porsche', price:'30000', dynamic: 'test drive 3'},
            {model: 'B', label: 'Opel', price:'1500', dynamic: 'test drive 4'}];

        var div = document.getElementById('test');
        var exTable = lightTable(div, { sortable:true, 'columns': [{name:'Car', prop:'label',  type:'string', sort:true},
            {name:'Model', prop:'model'}, {name:'$', prop:'price', type:'number', sort:true},
            {name:'Dynamic', prop: 'dynamic', type:'string', visible: false, sort: true}],
            });
        exTable.draw(data);
        var div2 = document.getElementById('test2');
        var exTable2 = lightTable(div2, { editable:true, 'columns': [{name:'label', prop:'label'},
            {name:'model', prop:'model', type:'string', sort:true}, {name:'price', prop:'price'}] });
        exTable2.draw(data2);

        setTimeout(function(){
            console.log(3000);
            exTable.addRows({model: 'F', label:'Lada', price: '800', dynamic: 'test drive 1,5'});
            exTable.setColumns({ index: 3, visible: true });
        }, 3000);

        setTimeout(function(){
            console.log(6000);
            exTable.addRows({model: 'A', label:'Ford', price: '22000', dynamic: 'test drive 3'});
            exTable.setColumns({ index: 2, visible: false });
        }, 6000);

        setTimeout(function(){
            console.log(9000);
            exTable2.addRows({model: 'A', label:'Ford', price: '22000'});
            exTable.setColumns({ index: 2, visible: true });
        }, 9000);

        setTimeout(function(){
            console.log(12000);
            exTable2.addRows({model: 'A', label:'Ford', price: '22000'});
            exTable.setColumns([{ index: 1, visible: false }, { index: 0, visible: false }]);
        }, 12000);

        setTimeout(function(){
            console.log(15000);
            exTable.setColumns([{ index: 1, visible: true }, { index: 0, visible: true }]);
        }, 15000);
    }
</script>
</html>